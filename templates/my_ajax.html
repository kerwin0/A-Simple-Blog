<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>
</head>
<body>
<button class="btn">点击</button><span class="con"></span>
<h3>计算器</h3>
<input type="text" class="n1"> + <input type="text" class="n2"> = <input type="text" class="n3"><button class="cal">提交</button>
{% csrf_token %}

<h3>登录验证</h3>
<input type="text" id="name">用户名
<input type="password" id="pwd">密码
<input type="button" id="login_btn" value="submit"><span class="error"></span>

<h3>文件</h3>

<script>
    $(".btn").click(function () {
        $.ajax({
            url:"http://127.0.0.1:8000/a/",
            type:"get",
            success:function (date) {
                $(".con").html(date);
            }
        })
    });
    $(".cal").click(function () {
        var n1=$(".n1").val();
        var n2=$(".n2").val();

        $.ajax({
            url:"http://127.0.0.1:8000/b/",
            type:"post",
            data:{
                a:n1,
                b:n2,
                csrfmiddlewaretoken:$("[name='csrfmiddlewaretoken']").val()
            },
            success:function (arg) {
                $(".n3").val(arg);
            }

        })
    });
    $("#login_btn").click(function () {
        $.ajax({
            url:"/c/",
            type:"post",
            data:{
                name:$("#name").val(),
                pwd:$("#pwd").val(),
                csrfmiddlewaretoken:$("[name='csrfmiddlewaretoken']").val()
            },
            success:function (arg) {
                var ret=JSON.parse(arg);
                if(ret.name){

                }
                else{
                    $(".error").text(ret.msg)
                }
            }
        })
    })
</script>
</body>
</html>